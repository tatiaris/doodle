<DOCTYPE html>
    <html>
        <head>
            <style>
                html, body {
                  height: 100%;
                }
                body {
                  margin: 0;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                }
            </style>
            <title>doodle</title>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.16/p5.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/addons/p5.dom.js"></script>
            <script src="doodle.js" type="text/javascript"></script>
        </head>
        <body>
            <script type="text/javascript">
                var mirrors = 9;
                var theta = -2*(Math.PI)/mirrors;
                var painting = false;
                var xpos = [];
                var ypos = [];

                function setup() {
                  createCanvas(innerWidth, innerHeight);
                  background(0,255,255);
                  stroke(100);
                  translate(width/2, height/2);
                  // push();
                  // for (var i = 0; i < mirrors; i++){
                  //   drawLine (0, 0, theta, width);
                  //   rotate(theta);
                  // }
                  // pop();
                }

                function keyPressed() {
                  if (keyCode == 70){
                    var fs = fullscreen();
                    fullscreen(!fs);
                  }
                  if (keyCode == 67){
                    setup();
                  }
                }
                function mouseDragged() {
                  strokeWeight(10)
                  fill(0);
                  stroke(0);
                  translate(width/2, height/2)
                  for (var i = 0; i < mirrors; i++){
                    line (xpos[xpos.length-mirrors]-width/2, ypos[ypos.length-mirrors]-height/2, mouseX-width/2, mouseY-height/2);
                    rotate(theta);
                    xpos.push(mouseX);
                    ypos.push(mouseY);
                  }
                }
                function mouseReleased(){
                  xpos = [];
                  ypos = [];
                }
                function drawLine(x, y, theta, r) {
                  line (x, y, x + r*Math.cos(theta), y + r*Math.sin(theta));
                }
            </script>
        </body>
    </html>
